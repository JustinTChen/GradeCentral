{% extends "layout.html" %}
{% block content %}

	{% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
            <div class="alert {{ category }}"> 
      			{{ message|capitalize }} 
      			<span class="closebtn">&times;</span>
      		</div>
        {% endfor %}
      {% endif %}
  {% endwith %}

  	<div class="login">
		<form method="POST" action="">
			{{ form.hidden_tag() }}

	    	<label for="email">Email</label>
	    	{{ form.email(class="logininput") }}
	    	{% if form.email.errors %}
			    <div class="alert error">
			        {% for error in form.email.errors %}
				        <span class="closebtn">&times;</span>  
				        {{ error }}
			        {% endfor %}
			   	</div>
		    {% endif %}

	    	<label for="pass">Password</label>
	    	{{ form.password(class="logininput") }}
	    	<div>
	    		<div class="checkbox">
	    			<div class="checkbox-left">{{ form.remember }}</div>
	    			<div class="checkbox-left">Remember me</div>
	    		</div>
			</div>
	    	{{ form.submit(class="loginsubmit") }}

	    <script>
	    var close = document.getElementsByClassName("closebtn");
	    var i;
	    for (i = 0; i < close.length; i++) {
	      close[i].onclick = function(){
	        var div = this.parentElement;
	        div.style.opacity = "0";
	        setTimeout(function(){ div.style.display = "none"; }, 600);
	      }
	    }
  		</script>
		</form>
		<div class="smalltext">
			Need An Account? <a href="{{ url_for('register') }}">Sign Up Now</a>
		</div>

	</div>
{% endblock content %}